---
title: 可视化大屏学习笔记
date: 2024-11-15 19:20:44
tags: 学习笔记
---
# 教程地址

基础教程：https://www.bilibili.com/video/BV1bh41197p8/?spm_id_from=333.337.search-card.all.click&vd_source=c1c431c1fb9a018b28f7c4bd24623c1f

项目教程：https://www.bilibili.com/video/BV1v7411R7mp/?spm_id_from=333.337.search-card.all.click&vd_source=c1c431c1fb9a018b28f7c4bd24623c1f

## 什么是数据可视化

>把数据转化为图标
>
>- 清晰有效地传达与沟通信息
>- 隐藏在数据中的信息

## 可视化实现方式

- 报表类
  - Excel
  - 水晶报表
- 商业智能BI
  - Microsoft BI
  - Power-BI
- 编码类
  - ECharts.js
  - D3.js

# ECharts的基本使用

## ECharts特点

- 兼容性好
- 多种数据支持
  - Key-Value
  - 二维表
  - 流数据支持

## 快速上手ECharts

- 引入ECharts.js文件
- 准备一个呈现图表的盒子
- 初始化ECharts实例对象
- 准备配置项
- 将配置项设置给ECharts实例对象

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .main {
      width: 500px;
      height: 500px;
    }
  </style>
</head>

<body>
  <div class="main"></div>
  <script src="
https://cdn.jsdelivr.net/npm/echarts@5.5.1/dist/echarts.min.js
">
</script>
<script>
  const mCharts = echarts.init(document.querySelector('.main'));
  const option = {
    xAxis:{
      type: 'category',
      data: ['小明', '小红', '小刚']
    },
    yAxis: {
      type: 'value'
    },
    series: [{
      data: [10, 20, 30],
      type: 'bar'
    }],
    tooltip: {
      trigger: 'item'
    }
  }
  mCharts.setOption(option);
</script>
</body>

</html>
```

![](快速上手.png)

## 相关配置项

- xAxis/yAxis: 横轴,纵轴
- series:  系列列表.每个系列通过type决定自己的图表类型

## ECharts常用图表

### 通用配置

- 标题: title
  - 文字样式
    - textStyle
  - 边框
    - borderWidth
    - borderColor
    - borderRadius
  - 位置
    - left
    - top
    - right
    - bottom
- 提示: tooltip
  - 触发类型: trigger
    - item
    - axis
  - 触发时机: triggerOn
    - mouserover
    - click
  - 格式化: formatter
    - 模板字符串
    - 回调函数

- 工具按钮: toolbox.feature
  - 导出图片: saveAsImage
  - 数据视图: dataView
  - 动态类型切换: magicType
  - 数据区域缩放: dataZoom
  - 重置:restore
- 图例: legend,用于筛选系列,需要配合series使用
  - legend中的data是一个数组
  - legend中的data的值需要和series数组中每组数据的name值一致
  - 点击legend可以隐藏/显示该系列数据

### 柱状图(bar)

![](柱状图.png)

```html
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .main {
      width: 500px;
      height: 500px;
    }
  </style>
</head>

<body>
  <div class="main"></div>
  <script src="
https://cdn.jsdelivr.net/npm/echarts@5.5.1/dist/echarts.min.js
">
</script>
  <script>
    const mCharts = echarts.init(document.querySelector('.main'));
    const option = {
      title: {
        text: '期末成绩',
      },
      xAxis: {
        type: 'category',
        data: ['张三', '李四', '王五', '赵六', '钱七']
      },
      yAxis: {
        type: 'value'
      },
      series: [{
        data: [120, 200, 150, 80, 70],
        type: 'bar'
      }]
    }
    mCharts.setOption(option);
  </script>
</body>

</html>
```

![](柱状图效果.png)

#### 常见效果

- 标记:
  - 最大/小值: markPoint
  - 平均值: markLine
- 显示:
  - 数值显示: label
  - 柱宽度: barWidth
  - 横向柱状图: 交换xAxis和yAxis的内容
- 特点:
  - 描述分类数据,呈现每一个分类中{%label 有多少 red%},通过柱状图,可以很清晰的看出每个分类数据的排名情况

### 折线图(line)

![](折线图数据.png)

![](折线图效果.png)

#### 常见效果

- 标记区域: markArea
- 线条控制: smooth, lineStyle
- 填充风格: areaStyle
- 紧挨边缘: boundaryGap,该属性配置给类目轴
- 缩放：scale,该属性配置给类目轴，使其从最小值开始而不是从0开始
- 堆叠图： stack

### 散点图(scatter/effectScatter)

- xAxis和yAxis都设置为value
- 气泡图
  - 散点大小不同： symbolSize
  - 散点颜色不同：itemStyle.color
- 涟漪动画:effectScatter
  - type: effectScatter
  - showEffectOn: 'emphasis'
  - rippleEffect{}

### 直角坐标系

**直角坐标系图表**：柱状图，折线图，散点图

**常用配置项**

- 网格grid: 控制直角坐标系的布局和大小, x轴和y轴就是在grid的基础上进行绘制的
  - 显示grid：show
  - 边框：borderWidth,borderColor
  - 位置和大小： left,top,right, bottom, width,height
- 坐标轴axis：一个grid中最多有两种位置的x轴和y轴
  - 坐标轴类型type
    - value:  数值轴，自动会从目标数据中读取数据
    - category: 类目轴，该类型必须通过data设置类目数据
  - 显示位置position
    - xAxis: 可取值为top或者bottom
    - yAxis: 可取值为left或者right
- 区域缩放dataZoom:对数据范围过滤，x轴和y轴都可以拥有，dataZoom是一个数组，意味着可以配置多个区域缩放器
  - 类型type
    - slider: 滑块
    - inside: 内置，依靠鼠标滚轮活着双指缩放
  - 指明产生的作用轴
    - xAxisIndex：设置缩放组件控制的是哪个x轴，一般写0即可
    - yAxisIndex：设置缩放组件控制的是哪个y轴，一般写0即可
  - 指明初始状态的缩放情况
    - start：数据窗口范围的起始百分比
    - end：数据窗口范围的结束百分比

### 饼图(pie)

- series中type: pie
- 数据是[{name,value}]
- 显示数值: label.formatter
- 圆环：设置两个半径radius['50%', '70%']，百分数参照Min{height,width}/2
- 南丁格尔图：roseType：radius,每部分半径不同
- 选中效果
  - 选中模式selectedMode: single\multiple
  - 选中偏移量 selectedOffset: 30

### 地图(map)

- 缩放拖动:roam
- 名称显示: label
- 初始缩放比例: zoom
- 地图中心点：center
- 显示某个区域
  - 加载该区域的矢量地图数据
  - 通过registerMap注册到echarts全局对象中 
  - 指明geo配置下的type和map属性
  - 通过zoom放大该区域
  - 通过center设置中心点

- 不同城市颜色不同
  - 显示基本的中国地图
  - 城市的空气质量数据设置给series
  - 将series下的数据和geo关联起来
  - 结合visualMap配合使用
- 地图和散点图相结合
  - 给series下增加新的对象
  - 准备好散点数据，设置给新对象的data
  - 配置新对象的type:effectScatter
  - 让散点图使用地图坐标系统：coordinateSystem: 'geo'
  - 让涟漪效果更明显：rippleEffect:{scale: 10}

### 雷达图(radar)

- 定义各个维度的最大值
  - indicator:[{name:'易用性',max:100}]
- 准备具体产品的数据
  - data:[{name:'华为手机',value:[80,90,80,82,90]}]
- 图表类型：series.type=radar
- 常用配置
  - 显示数据： label: {show: true}
  - 区域面积：areaStyle
  - 形状： radar:{shape: 'circle'}
- 适用于多个维度的数据对比

### 仪表盘图(gauge)

- 适用于进度监控
- 准备数据, 设置给series下的data
  - data[{value: 97}]
- 图表类型：在series下设置type:gauge
- 多个指针： 增加data中的数组元素
- 多个指针颜色差异： itemStyle

![](图表总结.png)

# ECharts的高级使用

# 电商平台数据可视化实时监控系统

## 后台搭建

## 结合Vue开发图标组件

## WebSocket实现数据推送

## 主题切换，页面合并，全屏切换

